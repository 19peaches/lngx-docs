
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="A url shortener based on Polr.">
      
      
        <link rel="canonical" href="https://docs.lngx.org/developer-guide/api/">
      
      
        <meta name="author" content="Vince Kronlein">
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.10.3">
    
    
      
        <title>API Documentation - Lngx</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-9011e2d3f8.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-23f75ab9c7.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="light-blue" data-md-color-accent="orange">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.lngx.org" title="Lngx" class="md-header-nav__button md-logo">
          
            
              <img src="../../img/icon.png" width="24" height="24">
            
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Developer Guide
                </span>
              
            
            API Documentation
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/19peaches/lngx" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      19peaches/lngx
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="Home" class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../user-guide/installation/" title="User Guide" class="md-tabs__link">
          User Guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../libraries/" title="Developer Guide" class="md-tabs__link md-tabs__link--active">
          Developer Guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../about/license/" title="About" class="md-tabs__link">
          About
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <div class="md-nav__button md-logo">
      
        
          <img src="../../img/icon.png">
        
      
    </div>
    Lngx
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/19peaches/lngx" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      19peaches/lngx
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guide/installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guide/upgrading/" title="Upgrading" class="md-nav__link">
      Upgrading
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Developer Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Developer Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../libraries/" title="Libraries" class="md-nav__link">
      Libraries
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        API Documentation
      </label>
    
    <a href="./" title="API Documentation" class="md-nav__link md-nav__link--active">
      API Documentation
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-keys" title="API keys" class="md-nav__link">
    API keys
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#assigning-an-api-key" title="Assigning an API key" class="md-nav__link">
    Assigning an API key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actions" title="Actions" class="md-nav__link">
    Actions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response-type" title="Response Type" class="md-nav__link">
    Response Type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-endpoints" title="API Endpoints" class="md-nav__link">
    API Endpoints
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apiv2actionshorten" title="/api/v2/action/shorten" class="md-nav__link">
    /api/v2/action/shorten
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apiv2actionlookup" title="/api/v2/action/lookup" class="md-nav__link">
    /api/v2/action/lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apiv2datalink" title="/api/v2/data/link" class="md-nav__link">
    /api/v2/data/link
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http-error-codes" title="HTTP Error Codes" class="md-nav__link">
    HTTP Error Codes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#http-400-bad-request" title="HTTP 400 Bad Request" class="md-nav__link">
    HTTP 400 Bad Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-500-internal-server-error" title="HTTP 500 Internal Server Error" class="md-nav__link">
    HTTP 500 Internal Server Error
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-401-unauthorized" title="HTTP 401 Unauthorized" class="md-nav__link">
    HTTP 401 Unauthorized
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-404-not-found" title="HTTP 404 Not Found" class="md-nav__link">
    HTTP 404 Not Found
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-403-forbidden" title="HTTP 403 Forbidden" class="md-nav__link">
    HTTP 403 Forbidden
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-responses" title="Error Responses" class="md-nav__link">
    Error Responses
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api_errors/" title="API Errors" class="md-nav__link">
      API Errors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/changelog/" title="Change Log" class="md-nav__link">
      Change Log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/contributors/" title="Contributors" class="md-nav__link">
      Contributors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-keys" title="API keys" class="md-nav__link">
    API keys
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#assigning-an-api-key" title="Assigning an API key" class="md-nav__link">
    Assigning an API key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actions" title="Actions" class="md-nav__link">
    Actions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response-type" title="Response Type" class="md-nav__link">
    Response Type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-endpoints" title="API Endpoints" class="md-nav__link">
    API Endpoints
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apiv2actionshorten" title="/api/v2/action/shorten" class="md-nav__link">
    /api/v2/action/shorten
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apiv2actionlookup" title="/api/v2/action/lookup" class="md-nav__link">
    /api/v2/action/lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apiv2datalink" title="/api/v2/data/link" class="md-nav__link">
    /api/v2/data/link
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http-error-codes" title="HTTP Error Codes" class="md-nav__link">
    HTTP Error Codes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#http-400-bad-request" title="HTTP 400 Bad Request" class="md-nav__link">
    HTTP 400 Bad Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-500-internal-server-error" title="HTTP 500 Internal Server Error" class="md-nav__link">
    HTTP 500 Internal Server Error
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-401-unauthorized" title="HTTP 401 Unauthorized" class="md-nav__link">
    HTTP 401 Unauthorized
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-404-not-found" title="HTTP 404 Not Found" class="md-nav__link">
    HTTP 404 Not Found
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-403-forbidden" title="HTTP 403 Forbidden" class="md-nav__link">
    HTTP 403 Forbidden
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-responses" title="Error Responses" class="md-nav__link">
    Error Responses
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="lngx-api-documentation">Lngx API Documentation<a class="headerlink" href="#lngx-api-documentation" title="Permanent link">&para;</a></h1>
<hr />
<h2 id="api-keys">API keys<a class="headerlink" href="#api-keys" title="Permanent link">&para;</a></h2>
<p>To authenticate a user to Lngx, you will need to provide an API key along with
each request to the Lngx API, as a GET or POST parameter. (e.g <code>?key=API_KEY_HERE</code>)</p>
<h2 id="assigning-an-api-key">Assigning an API key<a class="headerlink" href="#assigning-an-api-key" title="Permanent link">&para;</a></h2>
<p>To assign an API key, log on from an administrator account, head over to the "Admin"
tab, and scroll to the desired user. From there, you can open the API button dropdown to
reset, create, or delete the user's API key. You will also be prompted to set a desired API quota. This is defined as requests per minute. You may allow unlimited requests by making the quota negative. Once the user receives an API key, they will be able to see an "API"
tab in their user panel, which provides the information necessary to interact with the API.</p>
<p>Alternative method: You can also assign a user an API key by editing their entry in the
<code>users</code> database table, editing the <code>api_key</code> value to the desired API key, <code>api_active</code> to the correct value (<code>1</code> for active, <code>0</code> for inactive), and <code>api_quota</code> to the desired API quota (see above).</p>
<h2 id="actions">Actions<a class="headerlink" href="#actions" title="Permanent link">&para;</a></h2>
<p>Actions are passed as a segment in the URL. There are currently
two actions implemented:</p>
<ul>
<li><code>shorten</code> - shortens a URL</li>
<li><code>lookup</code> - looks up the destination of a shortened URL</li>
</ul>
<p>Actions take arguments, which are passed as GET or POST parameters.
See <a href="#api-endpoints">API endpoints</a> for more information on the actions.</p>
<h2 id="response-type">Response Type<a class="headerlink" href="#response-type" title="Permanent link">&para;</a></h2>
<p>The Lngx API will reply in <code>plain_text</code> or <code>json</code>. The response type can be
set by providing the <code>response_type</code> argument to the request. If not provided,
the response type will default to <code>plain_text</code>.</p>
<p>Data endpoints will only return JSON-formatted data and will default to <code>json</code> if no
<code>response_type</code> is provided.</p>
<p>Example <code>json</code> responses:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;shorten&quot;</span><span class="p">,</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="s2">&quot;https://example.com/5kq&quot;</span>
<span class="p">}</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="s2">&quot;lookup&quot;</span><span class="p">,</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;long_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https:\/\/google.com&quot;</span><span class="p">,</span>
        <span class="nt">&quot;created_at&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;date&quot;</span><span class="p">:</span><span class="s2">&quot;2016-02-12 15:20:34.000000&quot;</span><span class="p">,</span>
            <span class="nt">&quot;timezone_type&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span>
            <span class="nt">&quot;timezone&quot;</span><span class="p">:</span><span class="s2">&quot;UTC&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;clicks&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Example <code>plain_text</code> responses:</p>
<p><code>https://example.com/5kq</code></p>
<p><code>https://google.com</code></p>
<h2 id="api-endpoints">API Endpoints<a class="headerlink" href="#api-endpoints" title="Permanent link">&para;</a></h2>
<p>All API calls will commence with the base URL, <code>/api/v2/</code>.</p>
<h3 id="apiv2actionshorten">/api/v2/action/shorten<a class="headerlink" href="#apiv2actionshorten" title="Permanent link">&para;</a></h3>
<p>Arguments:</p>
<ul>
<li><code>url</code>: the URL to shorten (e.g <code>https://google.com</code>)</li>
<li><code>is_secret</code> (optional): whether the URL should be a secret URL or not. Defaults to <code>false</code>. (e.g <code>true</code> or <code>false</code>)</li>
<li><code>custom_ending</code> (optional): a custom ending for the short URL. If left empty, no custom ending will be assigned.</li>
</ul>
<p>Response: A JSON or plain text representation of the shortened URL.</p>
<p>Example: </p>
<p>GET <code>http://example.com/api/v2/action/shorten?key=API_KEY_HERE&amp;url=https://google.com&amp;custom_ending=CUSTOM_ENDING&amp;is_secret=false</code></p>
<p>Response:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;shorten&quot;</span><span class="p">,</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="s2">&quot;https://example.com/5kq&quot;</span>
<span class="p">}</span>
</pre></div>

<p>Remember that the <code>url</code> argument must be URL encoded.</p>
<h3 id="apiv2actionlookup">/api/v2/action/lookup<a class="headerlink" href="#apiv2actionlookup" title="Permanent link">&para;</a></h3>
<p>The <code>lookup</code> action takes a single argument: <code>url_ending</code>. This is the URL to
lookup. If it exists, the API will return with the destination of that URL. If
it does not exist, the API will return with the status code 404 (Not Found).</p>
<p>Arguments:</p>
<ul>
<li><code>url_ending</code>: the link ending for the URL to look up. (e.g <code>5ga</code>)</li>
<li><code>url_key</code> (optional): optional URL ending key for lookups against secret URLs</li>
</ul>
<p>Remember that the <code>url</code> argument must be URL encoded.</p>
<p>Example: </p>
<p>GET <code>http://example.com/api/v2/action/lookup?key=API_KEY_HERE&amp;url_ending=2</code></p>
<p>Response:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;lookup&quot;</span><span class="p">,</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="s2">&quot;https://google.com&quot;</span>
<span class="p">}</span>
</pre></div>

<h3 id="apiv2datalink">/api/v2/data/link<a class="headerlink" href="#apiv2datalink" title="Permanent link">&para;</a></h3>
<p>Arguments:</p>
<ul>
<li><code>url_ending</code>: the link ending for the URL to look up. (e.g <code>5ga</code>)</li>
<li><code>left_bound</code>: left date bound (e.g <code>2017-02-28 22:41:43</code>)</li>
<li><code>right_bound</code>: right date bound (e.g <code>2017-03-13 22:41:43</code>)</li>
<li><code>stats_type</code>: the type of data to fetch<ul>
<li><code>day</code>: click counts for each day from <code>left_bound</code> to <code>right_bound</code></li>
<li><code>country</code>: click counts per country</li>
<li><code>referer</code>: click counts per referer</li>
</ul>
</li>
</ul>
<p>The dates must be formatted for the <code>strtotime</code> PHP function and must be parsable by Carbon.
By default, this API endpoint will only allow users to fetch a maximum of 365 days of data. This setting
can be modified in the <code>.env</code> configuration file.</p>
<p>An API key granted to a regular user can only fetch data for their own links.
Admins can fetch data for any link.</p>
<p>Response: A JSON representation of the requested analytics data.</p>
<p>Example: </p>
<p>GET <code>http://example.com/api/v2/data/link?stats_type=day&amp;key=API_KEY_HERE&amp;url_ending=5gk&amp;response_type=json&amp;left_bound=2017-02-28%2022:41:43&amp;right_bound=2017-03-13%2022:21:43</code></p>
<p>Response:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="s2">&quot;data_link_day&quot;</span><span class="p">,</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;url_ending&quot;</span><span class="p">:</span><span class="s2">&quot;5gk&quot;</span><span class="p">,</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="s2">&quot;2017-03-10&quot;</span><span class="p">,</span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">42</span><span class="p">},</span>
            <span class="p">{</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="s2">&quot;2017-03-11&quot;</span><span class="p">,</span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
            <span class="p">{</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="s2">&quot;2017-03-12&quot;</span><span class="p">,</span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="mi">5</span><span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Example: </p>
<p>GET <code>http://example.com/api/v2/data/link?stats_type=country&amp;key=API_KEY_HERE&amp;url_ending=5gk&amp;response_type=json&amp;left_bound=2017-02-28%2022:41:43&amp;right_bound=2017-03-13%2022:21:43</code></p>
<p>Response:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="s2">&quot;data_link_day&quot;</span><span class="p">,</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;url_ending&quot;</span><span class="p">:</span><span class="s2">&quot;5gk&quot;</span><span class="p">,</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;FR&quot;</span><span class="p">,</span><span class="nt">&quot;clicks&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
            <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;US&quot;</span><span class="p">,</span><span class="nt">&quot;clicks&quot;</span><span class="p">:</span><span class="mi">6</span><span class="p">},</span>
            <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;CA&quot;</span><span class="p">,</span><span class="nt">&quot;clicks&quot;</span><span class="p">:</span><span class="mi">41</span><span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Example: </p>
<p>GET <code>http://example.com/api/v2/data/link?stats_type=country&amp;key=API_KEY_HERE&amp;url_ending=5gk&amp;response_type=json&amp;left_bound=2017-02-28%2022:41:43&amp;right_bound=2017-03-13%2022:21:43</code></p>
<p>Response:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="s2">&quot;data_link_day&quot;</span><span class="p">,</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;url_ending&quot;</span><span class="p">:</span><span class="s2">&quot;5gk&quot;</span><span class="p">,</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;Direct&quot;</span><span class="p">,</span><span class="nt">&quot;clicks&quot;</span><span class="p">:</span><span class="mi">6</span><span class="p">},</span>
            <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;reddit.com&quot;</span><span class="p">,</span><span class="nt">&quot;clicks&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">},</span>
            <span class="p">{</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;facebook.com&quot;</span><span class="p">,</span><span class="nt">&quot;clicks&quot;</span><span class="p">:</span><span class="mi">30</span><span class="p">}</span>            
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h2 id="http-error-codes">HTTP Error Codes<a class="headerlink" href="#http-error-codes" title="Permanent link">&para;</a></h2>
<p>The API will return an error code if your request was malformed or another error occured while processing your request.</p>
<h3 id="http-400-bad-request">HTTP 400 Bad Request<a class="headerlink" href="#http-400-bad-request" title="Permanent link">&para;</a></h3>
<p>This status code is returned in the following circumstances:</p>
<ul>
<li>By the <code>shorten</code> endpoint<ul>
<li>In the event that the custom ending provided is already in use, a <code>400</code> error code will be returned and the message <code>custom ending already in use</code> will be returned as an error.</li>
</ul>
</li>
<li>By any endpoint<ul>
<li>Your request will return a <code>400</code> if it is malformed or the contents of your arguments do not fit the required data type.</li>
</ul>
</li>
</ul>
<h3 id="http-500-internal-server-error">HTTP 500 Internal Server Error<a class="headerlink" href="#http-500-internal-server-error" title="Permanent link">&para;</a></h3>
<ul>
<li>By any endpoint<ul>
<li>The server has encountered an unhandled error. This is most likely due to a problem with your configuration or your server is unable to handle the request due to a bug.</li>
</ul>
</li>
</ul>
<h3 id="http-401-unauthorized">HTTP 401 Unauthorized<a class="headerlink" href="#http-401-unauthorized" title="Permanent link">&para;</a></h3>
<ul>
<li>By any endpoint<ul>
<li>You are unauthorized to make the transaction. This is most likely due to an API token mismatch, or your API token has not be set to active.</li>
</ul>
</li>
<li>By the <code>lookup</code> endpoint<ul>
<li>You have not provided the valid <code>url_key</code> for a secret URL lookup.</li>
</ul>
</li>
</ul>
<h3 id="http-404-not-found">HTTP 404 Not Found<a class="headerlink" href="#http-404-not-found" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>By the <code>lookup</code> endpoint</p>
<ul>
<li>Returned in the circumstance that the short URL to look up was not found in the database.</li>
</ul>
</li>
</ul>
<h3 id="http-403-forbidden">HTTP 403 Forbidden<a class="headerlink" href="#http-403-forbidden" title="Permanent link">&para;</a></h3>
<ul>
<li>By the <code>shorten</code> endpoint<ul>
<li>Your request was understood, but you have exceeded your quota.</li>
</ul>
</li>
</ul>
<h2 id="error-responses">Error Responses<a class="headerlink" href="#error-responses" title="Permanent link">&para;</a></h2>
<p>Example <code>json</code> error response:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;status_code&quot;</span><span class="p">:</span><span class="mi">429</span><span class="p">,</span>
    <span class="nt">&quot;error_code&quot;</span><span class="p">:</span><span class="s2">&quot;QUOTA_EXCEEDED&quot;</span><span class="p">,</span>
    <span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="s2">&quot;Quota exceeded.&quot;</span>
<span class="p">}</span>
</pre></div>

<p>Example <code>plain_text</code> error response:</p>
<p><code>429 Quota exceeded.</code></p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../libraries/" title="Libraries" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Libraries
              </span>
            </div>
          </a>
        
        
          <a href="../api_errors/" title="API Errors" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                API Errors
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 19Peaches, LLC.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/19peaches" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/VinceKronlein" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-f3ab9e5ff8.js"></script>
      
      
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>